"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[176],{176:function(t,n,e){e.r(n),e.d(n,{default:function(){return et}});var a=e(433),o=e(683),l=e(439),i=e(791),r=e(184),s=[{id:"1",title:"ccc",amount:0},{id:"2",title:"aaa",amount:0},{id:"3",title:"bbb",amount:0}];function c(){console.log("App");var t=(0,i.useState)(s),n=(0,l.Z)(t,2),e=n[0],c=n[1],m=(0,i.useRef)(null),f=(0,i.useCallback)((function(t){var n=t.id,e=t.newAmount;c((function(t){return t.map((function(t){return t.id===n?(0,o.Z)((0,o.Z)({},t),{},{amount:e}):t}))}))}),[]),x=(0,i.useCallback)((function(){c((function(t){return(0,a.Z)(t).sort((function(t,n){return t.title.localeCompare(n.title)}))}))}),[]),j=(0,i.useCallback)((function(){c((function(t){return(0,a.Z)(t).sort((function(t,n){return n.title.localeCompare(t.title)}))}))}),[]),b=(0,i.useCallback)((function(t){var n;null===(n=m.current)||void 0===n||n.openModal(t)}),[]);return(0,r.jsxs)("section",{className:"addToCart",children:[(0,r.jsx)(u,{sortDataAscending:x,sortDataDescending:j}),(0,r.jsx)(d,{data:e,updateAmount:f,handleOpenModal:b}),(0,r.jsx)(h,{data:e}),(0,r.jsx)(p,{ref:m,updateAmount:f})]})}var u=(0,i.memo)((function(t){var n=t.sortDataAscending,e=t.sortDataDescending;return console.log("SortControls"),(0,r.jsxs)("div",{className:"addToCart-sorts",children:[(0,r.jsx)("button",{type:"button",onClick:n,children:"\uc624\ub984\ucc28\uc21c"}),(0,r.jsx)("button",{type:"button",onClick:e,children:"\ub0b4\ub9bc\ucc28\uc21c"})]})})),d=(0,i.memo)((function(t){var n=t.data,e=t.updateAmount,a=t.handleOpenModal;return console.log("ProductList"),(0,r.jsx)("ul",{className:"addToCart-list",children:n.map((function(t){return(0,r.jsx)(m,{data:t,updateAmount:e,handleOpenModal:a},t.id)}))})}),(function(t,n){return t.data===n.data})),m=(0,i.memo)((function(t){var n=t.data,e=t.updateAmount,a=t.handleOpenModal;console.log("Item",n);var o=n.id,l=n.title,s=n.amount,c=(0,i.useRef)(null),u=s>=10,d=s<=0,m=(0,i.useCallback)((function(t){e({id:o,newAmount:t})}),[e,o]),h=(0,i.useCallback)((function(){u||m(s+1)}),[u,m,s]),p=(0,i.useCallback)((function(){d||m(s-1)}),[d,m,s]);return(0,r.jsxs)("li",{className:"addToCart-item","data-active":s>0,ref:c,children:[(0,r.jsxs)("p",{children:["[",o,"] : ",l," | amount: ",s]}),(0,r.jsxs)("div",{className:"amount-container",children:[(0,r.jsx)("input",{type:"number",value:s,min:"0",max:"10",className:"amount-input",onClick:function(){a({id:o,title:l,amount:s})},readOnly:!0}),(0,r.jsxs)("div",{className:"amount-controls",children:[(0,r.jsx)("button",{type:"button",className:"increase-button",disabled:u,onClick:h,children:"+"}),(0,r.jsx)("button",{type:"button",className:"descrease-button",disabled:d,onClick:p,children:"-"})]})]})]})}),(function(t,n){return t.data.amount===n.data.amount})),h=function(t){var n=t.data;console.log("ActionButton");var e=(0,i.useState)(""),a=(0,l.Z)(e,2),o=a[0],s=a[1],c=(0,i.useMemo)((function(){return n.filter((function(t){return t.amount>0}))}),[n]);return(0,r.jsxs)("div",{className:"addToCart-actions",children:[(0,r.jsx)("span",{className:"badge-count",children:c.length}),(0,r.jsx)("button",{className:"addToCartButton",onClick:function(){s("Data \uac00\uc838\uc624\uae30 \ubc84\ud2bc \ud074\ub9ad \ud6c4 \n".concat(JSON.stringify(c,null,4)))},onBlur:function(){s("")},children:"Data \uac00\uc838\uc624\uae30"}),(0,r.jsx)("pre",{children:o})]})},p=(0,i.memo)((0,i.forwardRef)((function(t,n){var e=t.updateAmount;console.log("Modal");var a=(0,i.useMemo)((function(){return{isVisible:!1,id:null,title:"",currentAmount:0}}),[]),s=(0,i.useState)(a),c=(0,l.Z)(s,2),u=c[0],d=c[1],m=u.isVisible,h=u.id,p=u.title,f=u.currentAmount;(0,i.useImperativeHandle)(n,(function(){return{openModal:function(t){var n=t.id,e=t.title,a=t.amount;d({isVisible:!0,id:n,title:e,currentAmount:a})}}}));var x=(0,i.useCallback)((function(t){d((function(n){return(0,o.Z)((0,o.Z)({},n),{},{currentAmount:Number(t.target.value)})}))}),[]),j=(0,i.useCallback)((function(){e({id:h,newAmount:f}),d(a)}),[f,h,a,e]),b=(0,i.useCallback)((function(){d(a)}),[a]);return m?(0,r.jsx)("div",{className:"modal",children:(0,r.jsxs)("div",{className:"modal-container",children:[(0,r.jsx)("h3",{children:"Modal"}),(0,r.jsxs)("div",{className:"modal-contents",children:[(0,r.jsxs)("p",{children:["id: ",h]}),(0,r.jsxs)("p",{children:["title: ",p]}),(0,r.jsxs)("p",{children:["amount: ",f]}),(0,r.jsx)("input",{type:"number",min:"0",max:"10",value:f,onChange:x})]}),(0,r.jsxs)("div",{className:"modal-actions",children:[(0,r.jsx)("button",{type:"button",onClick:j,children:"confirm"}),(0,r.jsx)("button",{type:"button",onClick:b,children:"close"})]})]})}):null}))),f=function(t){return t.UPDATE_AMOUNT="UPDATE_AMOUNT",t.SORT_ASC="SORT_ASC",t.SORT_DESC="SORT_DESC",t}(f||{});function x(t,n){switch(n.type){case f.UPDATE_AMOUNT:return t.map((function(t){return t.id===n.payload.id?(0,o.Z)((0,o.Z)({},t),{},{amount:n.payload.newAmount}):t}));case f.SORT_ASC:return(0,a.Z)(t).sort((function(t,n){return t.title.localeCompare(n.title)}));case f.SORT_DESC:return(0,a.Z)(t).sort((function(t,n){return n.title.localeCompare(t.title)}));default:return t}}var j=[{id:"1",title:"ccc",amount:0},{id:"2",title:"aaa",amount:0},{id:"3",title:"bbb",amount:0}];function b(){console.log("App");var t=(0,i.useReducer)(x,j),n=(0,l.Z)(t,2),e=n[0],a=n[1],o=(0,i.useRef)(null),s=(0,i.useCallback)((function(t){var n;null===(n=o.current)||void 0===n||n.openModal(t)}),[]);return(0,r.jsxs)("section",{className:"addToCart",children:[(0,r.jsx)(C,{dispatch:a}),(0,r.jsx)(v,{data:e,dispatch:a,handleOpenModal:s}),(0,r.jsx)(N,{data:e}),(0,r.jsx)(O,{ref:o,dispatch:a})]})}var C=(0,i.memo)((function(t){var n=t.dispatch;console.log("SortControls");return(0,r.jsxs)("div",{className:"addToCart-sorts",children:[(0,r.jsx)("button",{type:"button",onClick:function(){return n({type:f.SORT_ASC})},children:"\uc624\ub984\ucc28\uc21c"}),(0,r.jsx)("button",{type:"button",onClick:function(){return n({type:f.SORT_DESC})},children:"\ub0b4\ub9bc\ucc28\uc21c"})]})})),v=(0,i.memo)((function(t){var n=t.data,e=t.dispatch,a=t.handleOpenModal;return console.log("ProductList"),(0,r.jsx)("ul",{className:"addToCart-list",children:n.map((function(t){return(0,r.jsx)(A,{data:t,dispatch:e,handleOpenModal:a},t.id)}))})}),(function(t,n){return t.data===n.data})),A=(0,i.memo)((function(t){var n=t.data,e=t.dispatch,a=t.handleOpenModal;console.log("Item",n);var o=n.id,l=n.title,s=n.amount,c=(0,i.useRef)(null),u=s>=10,d=s<=0,m=(0,i.useCallback)((function(t){e({type:f.UPDATE_AMOUNT,payload:{id:o,newAmount:t}})}),[e,o]),h=(0,i.useCallback)((function(){u||m(s+1)}),[u,m,s]),p=(0,i.useCallback)((function(){d||m(s-1)}),[d,m,s]);return(0,r.jsxs)("li",{className:"addToCart-item","data-active":s>0,ref:c,children:[(0,r.jsxs)("p",{children:["[",o,"] : ",l," | amount: ",s]}),(0,r.jsxs)("div",{className:"amount-container",children:[(0,r.jsx)("input",{type:"number",value:s,min:"0",max:"10",className:"amount-input",onClick:function(){a({id:o,title:l,amount:s})},readOnly:!0}),(0,r.jsxs)("div",{className:"amount-controls",children:[(0,r.jsx)("button",{type:"button",className:"increase-button",disabled:u,onClick:h,children:"+"}),(0,r.jsx)("button",{type:"button",className:"descrease-button",disabled:d,onClick:p,children:"-"})]})]})]})}),(function(t,n){return t.data===n.data})),N=function(t){var n=t.data;console.log("ActionButton");var e=(0,i.useState)(""),a=(0,l.Z)(e,2),o=a[0],s=a[1],c=(0,i.useMemo)((function(){return n.filter((function(t){return t.amount>0}))}),[n]);return(0,r.jsxs)("div",{className:"addToCart-actions",children:[(0,r.jsx)("span",{className:"badge-count",children:c.length}),(0,r.jsx)("button",{className:"addToCartButton",onClick:function(){s("Data \uac00\uc838\uc624\uae30 \ubc84\ud2bc \ud074\ub9ad \ud6c4 \n".concat(JSON.stringify(c,null,4)))},onBlur:function(){s("")},children:"Data \uac00\uc838\uc624\uae30"}),(0,r.jsx)("pre",{children:o})]})},O=(0,i.memo)((0,i.forwardRef)((function(t,n){var e=t.dispatch;console.log("Modal");var a=(0,i.useMemo)((function(){return{isVisible:!1,id:null,title:"",currentAmount:0}}),[]),s=(0,i.useState)(a),c=(0,l.Z)(s,2),u=c[0],d=c[1],m=u.isVisible,h=u.id,p=u.title,x=u.currentAmount;(0,i.useImperativeHandle)(n,(function(){return{openModal:function(t){var n=t.id,e=t.title,a=t.amount;d({isVisible:!0,id:n,title:e,currentAmount:a})}}}));var j=(0,i.useCallback)((function(t){d((function(n){return(0,o.Z)((0,o.Z)({},n),{},{currentAmount:Number(t.target.value)})}))}),[]),b=(0,i.useCallback)((function(){e({type:f.UPDATE_AMOUNT,payload:{id:h,newAmount:x}}),d(a)}),[x,e,h,a]),C=(0,i.useCallback)((function(){d(a)}),[a]);return m?(0,r.jsx)("div",{className:"modal",children:(0,r.jsxs)("div",{className:"modal-container",children:[(0,r.jsx)("h3",{children:"Modal"}),(0,r.jsxs)("div",{className:"modal-contents",children:[(0,r.jsxs)("p",{children:["id: ",h]}),(0,r.jsxs)("p",{children:["title: ",p]}),(0,r.jsxs)("p",{children:["amount: ",x]}),(0,r.jsx)("input",{type:"number",min:"0",max:"10",value:x,onChange:j})]}),(0,r.jsxs)("div",{className:"modal-actions",children:[(0,r.jsx)("button",{type:"button",onClick:b,children:"confirm"}),(0,r.jsx)("button",{type:"button",onClick:C,children:"close"})]})]})}):null})),(function(t,n){return t.dispatch===n.dispatch})),y=function(t){return t.UPDATE_AMOUNT="UPDATE_AMOUNT",t.SORT_ASC="SORT_ASC",t.SORT_DESC="SORT_DESC",t}(y||{});function T(t,n){switch(n.type){case y.UPDATE_AMOUNT:return t.map((function(t){return t.id===n.payload.id?(0,o.Z)((0,o.Z)({},t),{},{amount:n.payload.newAmount}):t}));case y.SORT_ASC:return(0,a.Z)(t).sort((function(t,n){return t.title.localeCompare(n.title)}));case y.SORT_DESC:return(0,a.Z)(t).sort((function(t,n){return n.title.localeCompare(t.title)}));default:return t}}var M=[{id:"1",title:"ccc",amount:0},{id:"2",title:"aaa",amount:0},{id:"3",title:"bbb",amount:0}];function k(){console.log("App");var t=(0,i.useRef)(null),n=(0,i.useReducer)(T,M),e=(0,l.Z)(n,2),a=e[0],o=e[1],s=(0,i.useCallback)((function(n){var e;null===(e=t.current)||void 0===e||e.openModal(n)}),[]);return(0,r.jsxs)("section",{className:"addToCart",children:[(0,r.jsx)(S,{dispatch:o}),(0,r.jsx)(D,{data:a,handleOpenModal:s,dispatch:o}),(0,r.jsx)(R,{data:a}),(0,r.jsx)(P,{ref:t,dispatch:o})]})}var S=(0,i.memo)((function(t){var n=t.dispatch;console.log("SortControls");return(0,r.jsxs)("div",{className:"addToCart-sorts",children:[(0,r.jsx)("button",{type:"button",onClick:function(){return n({type:y.SORT_ASC})},children:"\uc624\ub984\ucc28\uc21c"}),(0,r.jsx)("button",{type:"button",onClick:function(){return n({type:y.SORT_DESC})},children:"\ub0b4\ub9bc\ucc28\uc21c"})]})})),D=(0,i.memo)((function(t){var n=t.data,e=t.dispatch,a=t.handleOpenModal;return console.log("ProductList"),(0,r.jsx)("ul",{className:"addToCart-list",children:n.map((function(t){return(0,r.jsx)(g,{data:t,dispatch:e,handleOpenModal:a},t.id)}))})}),(function(t,n){return t.data===n.data})),g=(0,i.memo)((function(t){var n=t.data,e=t.dispatch,a=t.handleOpenModal;console.log("Item",n);var o=n.id,l=n.title,s=n.amount,c=(0,i.useRef)(null),u=s>=10,d=s<=0,m=(0,i.useCallback)((function(t){e({type:y.UPDATE_AMOUNT,payload:{id:o,newAmount:t}})}),[e,o]),h=(0,i.useCallback)((function(){u||m(s+1)}),[u,m,s]),p=(0,i.useCallback)((function(){d||m(s-1)}),[d,m,s]);return(0,r.jsxs)("li",{className:"addToCart-item","data-active":s>0,ref:c,children:[(0,r.jsxs)("p",{children:["[",o,"] : ",l," | amount: ",s]}),(0,r.jsxs)("div",{className:"amount-container",children:[(0,r.jsx)("input",{type:"number",value:s,min:"0",max:"10",className:"amount-input",onClick:function(){a({id:o,title:l,amount:s})},readOnly:!0}),(0,r.jsxs)("div",{className:"amount-controls",children:[(0,r.jsx)("button",{type:"button",className:"increase-button",disabled:u,onClick:h,children:"+"}),(0,r.jsx)("button",{type:"button",className:"descrease-button",disabled:d,onClick:p,children:"-"})]})]})]})}),(function(t,n){return t.data.amount===n.data.amount})),R=function(t){var n=t.data;console.log("ActionButton");var e=(0,i.useState)(""),a=(0,l.Z)(e,2),o=a[0],s=a[1],c=(0,i.useMemo)((function(){return n.filter((function(t){return t.amount>0}))}),[n]);return(0,r.jsxs)("div",{className:"addToCart-actions",children:[(0,r.jsx)("span",{className:"badge-count",children:c.length}),(0,r.jsx)("button",{className:"addToCartButton",onClick:function(){s("Data \uac00\uc838\uc624\uae30 \ubc84\ud2bc \ud074\ub9ad \ud6c4 \n".concat(JSON.stringify(c,null,4)))},onBlur:function(){s("")},children:"Data \uac00\uc838\uc624\uae30"}),(0,r.jsx)("pre",{children:o})]})},_=function(t){return t.OPEN_MODAL="OPEN_MODAL",t.UPDATE_AMOUNT="UPDATE_AMOUNT",t.CLOSE_MODAL="CLOSE_MODAL",t}(_||{}),Z={isVisible:!1,id:null,title:"",currentAmount:0};function E(t,n){switch(n.type){case _.OPEN_MODAL:return{isVisible:!0,id:n.payload.id,title:n.payload.title,currentAmount:n.payload.currentAmount};case _.UPDATE_AMOUNT:return(0,o.Z)((0,o.Z)({},t),{},{currentAmount:n.payload});case _.CLOSE_MODAL:return Z;default:return t}}var P=(0,i.memo)((0,i.forwardRef)((function(t,n){var e=t.dispatch;console.log("Modal");var a=(0,i.useReducer)(E,Z),o=(0,l.Z)(a,2),s=o[0],c=o[1],u=s.isVisible,d=s.id,m=s.title,h=s.currentAmount;(0,i.useImperativeHandle)(n,(function(){return{openModal:function(t){var n=t.id,e=t.title,a=t.amount;c({type:_.OPEN_MODAL,payload:{id:n,title:e,currentAmount:a}})}}}));var p=(0,i.useCallback)((function(t){c({type:_.UPDATE_AMOUNT,payload:Number(t.target.value)})}),[]),f=(0,i.useCallback)((function(){e({type:y.UPDATE_AMOUNT,payload:{id:d,newAmount:h}}),c({type:_.CLOSE_MODAL})}),[h,e,d]),x=(0,i.useCallback)((function(){c({type:_.CLOSE_MODAL})}),[]);return u?(0,r.jsx)("div",{className:"modal",children:(0,r.jsxs)("div",{className:"modal-container",children:[(0,r.jsx)("h3",{children:"Modal"}),(0,r.jsxs)("div",{className:"modal-contents",children:[(0,r.jsxs)("p",{children:["id: ",d]}),(0,r.jsxs)("p",{children:["title: ",m]}),(0,r.jsxs)("p",{children:["amount: ",h]}),(0,r.jsx)("input",{type:"number",min:"0",max:"10",value:h,onChange:p})]}),(0,r.jsxs)("div",{className:"modal-actions",children:[(0,r.jsx)("button",{type:"button",onClick:f,children:"confirm"}),(0,r.jsx)("button",{type:"button",onClick:x,children:"close"})]})]})}):null})),(function(t,n){return t.dispatch===n.dispatch})),U=function(t){return t.UPDATE_AMOUNT="UPDATE_AMOUNT",t.SORT_ASC="SORT_ASC",t.SORT_DESC="SORT_DESC",t}(U||{});function w(t,n){switch(n.type){case U.UPDATE_AMOUNT:return t.map((function(t){return t.id===n.payload.id?(0,o.Z)((0,o.Z)({},t),{},{amount:n.payload.newAmount}):t}));case U.SORT_ASC:return(0,a.Z)(t).sort((function(t,n){return t.title.localeCompare(n.title)}));case U.SORT_DESC:return(0,a.Z)(t).sort((function(t,n){return n.title.localeCompare(t.title)}));default:return t}}var L=[{id:"1",title:"ccc",amount:0},{id:"2",title:"aaa",amount:0},{id:"3",title:"bbb",amount:0}],B={isVisible:!1,id:null,title:"",currentAmount:0};function V(){console.log("App");var t=(0,i.useReducer)(w,L),n=(0,l.Z)(t,2),e=n[0],a=n[1],o=(0,i.useState)(B),s=(0,l.Z)(o,2),c=s[0],u=s[1],d=(0,i.useCallback)((function(t){var n=t.id,e=t.title,a=t.amount;u({isVisible:!0,id:n,title:e,currentAmount:a})}),[]);return(0,r.jsxs)("section",{className:"addToCart",children:[(0,r.jsx)(I,{dispatch:a}),(0,r.jsx)(J,{data:e,dispatch:a,handleOpenModal:d}),(0,r.jsx)(q,{data:e}),(0,r.jsx)(z,{state:c,setState:u,dispatch:a})]})}var I=(0,i.memo)((function(t){var n=t.dispatch;console.log("SortControls");return(0,r.jsxs)("div",{className:"addToCart-sorts",children:[(0,r.jsx)("button",{type:"button",onClick:function(){return n({type:U.SORT_ASC})},children:"\uc624\ub984\ucc28\uc21c"}),(0,r.jsx)("button",{type:"button",onClick:function(){return n({type:U.SORT_DESC})},children:"\ub0b4\ub9bc\ucc28\uc21c"})]})})),J=(0,i.memo)((function(t){var n=t.data,e=t.dispatch,a=t.handleOpenModal;return console.log("ProductList"),(0,r.jsx)("ul",{className:"addToCart-list",children:n.map((function(t){return(0,r.jsx)(H,{data:t,dispatch:e,handleOpenModal:a},t.id)}))})}),(function(t,n){return t.data===n.data})),H=(0,i.memo)((function(t){var n=t.data,e=t.dispatch,a=t.handleOpenModal;console.log("Item",n);var o=n.id,l=n.title,s=n.amount,c=(0,i.useRef)(null),u=s>=10,d=s<=0,m=(0,i.useCallback)((function(t){e({type:U.UPDATE_AMOUNT,payload:{id:o,newAmount:t}})}),[e,o]),h=(0,i.useCallback)((function(){u||m(s+1)}),[u,m,s]),p=(0,i.useCallback)((function(){d||m(s-1)}),[d,m,s]);return(0,r.jsxs)("li",{className:"addToCart-item","data-active":s>0,ref:c,children:[(0,r.jsxs)("p",{children:["[",o,"] : ",l," | amount: ",s]}),(0,r.jsxs)("div",{className:"amount-container",children:[(0,r.jsx)("input",{type:"number",value:s,min:"0",max:"10",className:"amount-input",onClick:function(){a({id:o,title:l,amount:s})},readOnly:!0}),(0,r.jsxs)("div",{className:"amount-controls",children:[(0,r.jsx)("button",{type:"button",className:"increase-button",disabled:u,onClick:h,children:"+"}),(0,r.jsx)("button",{type:"button",className:"descrease-button",disabled:d,onClick:p,children:"-"})]})]})]})}),(function(t,n){return t.data.amount===n.data.amount})),q=function(t){var n=t.data;console.log("ActionButton");var e=(0,i.useState)(""),a=(0,l.Z)(e,2),o=a[0],s=a[1],c=(0,i.useMemo)((function(){return n.filter((function(t){return t.amount>0}))}),[n]);return(0,r.jsxs)("div",{className:"addToCart-actions",children:[(0,r.jsx)("span",{className:"badge-count",children:c.length}),(0,r.jsx)("button",{className:"addToCartButton",onClick:function(){s("Data \uac00\uc838\uc624\uae30 \ubc84\ud2bc \ud074\ub9ad \ud6c4 \n".concat(JSON.stringify(c,null,4)))},onBlur:function(){return s("")},children:"Data \uac00\uc838\uc624\uae30"}),(0,r.jsx)("pre",{children:o})]})},z=(0,i.memo)((function(t){var n=t.state,e=t.setState,a=t.dispatch;console.log("Modal");var l=n.isVisible,s=n.id,c=n.title,u=n.currentAmount,d=(0,i.useCallback)((function(){e(B)}),[e]),m=(0,i.useCallback)((function(t){e((function(n){return(0,o.Z)((0,o.Z)({},n),{},{currentAmount:Number(t.target.value)})}))}),[e]),h=(0,i.useCallback)((function(){s&&a({type:U.UPDATE_AMOUNT,payload:{id:s,newAmount:u}}),d()}),[u,a,s,d]);return l?(0,r.jsx)("div",{className:"modal",children:(0,r.jsxs)("div",{className:"modal-container",children:[(0,r.jsx)("h3",{children:"Modal"}),(0,r.jsxs)("div",{className:"modal-contents",children:[(0,r.jsxs)("p",{children:["id: ",s]}),(0,r.jsxs)("p",{children:["title: ",c]}),(0,r.jsxs)("p",{children:["amount: ",u]}),(0,r.jsx)("input",{type:"number",min:"0",max:"10",value:u,onChange:m})]}),(0,r.jsxs)("div",{className:"modal-actions",children:[(0,r.jsx)("button",{type:"button",onClick:h,children:"confirm"}),(0,r.jsx)("button",{type:"button",onClick:function(){return d()},children:"close"})]})]})}):null}),(function(t,n){return t.state===n.state})),F={data:[],setData:function(){}},G=(0,i.createContext)(F),K=[{id:"1",title:"ccc",amount:0},{id:"2",title:"aaa",amount:0},{id:"3",title:"bbb",amount:0}],Q=function(){return{isVisible:!1,id:null,title:"",currentAmount:0}};function W(){console.log("App");var t=(0,i.useState)(K),n=(0,l.Z)(t,2),e=n[0],a=n[1],o=(0,i.useRef)(null),s=(0,i.useCallback)((function(t){var n;null===(n=o.current)||void 0===n||n.openModal(t)}),[]);return(0,r.jsx)(G.Provider,{value:{data:e,setData:a},children:(0,r.jsxs)("section",{className:"addToCart",children:[(0,r.jsx)(X,{}),(0,r.jsx)(Y,{handleOpenModal:s}),(0,r.jsx)(tt,{}),(0,r.jsx)(nt,{ref:o})]})})}var X=function(){console.log("SortControls");var t=(0,i.useContext)(G).setData,n=(0,i.useCallback)((function(){t((function(t){return(0,a.Z)(t).sort((function(t,n){return t.title.localeCompare(n.title)}))}))}),[t]),e=(0,i.useCallback)((function(){t((function(t){return(0,a.Z)(t).sort((function(t,n){return n.title.localeCompare(t.title)}))}))}),[t]);return(0,r.jsxs)("div",{className:"addToCart-sorts",children:[(0,r.jsx)("button",{type:"button",onClick:n,children:"\uc624\ub984\ucc28\uc21c"}),(0,r.jsx)("button",{type:"button",onClick:e,children:"\ub0b4\ub9bc\ucc28\uc21c"})]})},Y=(0,i.memo)((function(t){var n=t.handleOpenModal;console.log("ProductList");var e=(0,i.useContext)(G).data;return(0,r.jsx)("ul",{className:"addToCart-list",children:e.map((function(t){return(0,r.jsx)($,{data:t,handleOpenModal:n},t.id)}))})})),$=(0,i.memo)((function(t){var n=t.data,e=t.handleOpenModal;console.log("Item",n);var a=(0,i.useContext)(G).setData,l=n.id,s=n.title,c=n.amount,u=(0,i.useRef)(null),d=c>=10,m=c<=0,h=(0,i.useCallback)((function(t){a((function(n){return n.map((function(n){return n.id===l?(0,o.Z)((0,o.Z)({},n),{},{amount:t}):n}))}))}),[l,a]),p=(0,i.useCallback)((function(){d||h(c+1)}),[d,h,c]),f=(0,i.useCallback)((function(){m||h(c-1)}),[m,h,c]);return(0,r.jsxs)("li",{className:"addToCart-item","data-active":c>0,ref:u,children:[(0,r.jsxs)("p",{children:["[",l,"] : ",s," | amount: ",c]}),(0,r.jsxs)("div",{className:"amount-container",children:[(0,r.jsx)("input",{type:"number",value:c,min:"0",max:"10",className:"amount-input",onClick:function(){e({id:l,title:s,amount:c})},readOnly:!0}),(0,r.jsxs)("div",{className:"amount-controls",children:[(0,r.jsx)("button",{type:"button",className:"increase-button",disabled:d,onClick:p,children:"+"}),(0,r.jsx)("button",{type:"button",className:"descrease-button",disabled:m,onClick:f,children:"-"})]})]})]})}),(function(t,n){return t.data.id===n.data.id&&t.data.title===n.data.title&&t.data.amount===n.data.amount})),tt=function(){console.log("ActionButton");var t=(0,i.useContext)(G).data,n=(0,i.useState)(""),e=(0,l.Z)(n,2),a=e[0],o=e[1],s=(0,i.useMemo)((function(){return t.filter((function(t){return t.amount>0}))}),[t]);return(0,r.jsxs)("div",{className:"addToCart-actions",children:[(0,r.jsx)("span",{className:"badge-count",children:s.length}),(0,r.jsx)("button",{className:"addToCartButton",onClick:function(){o("Data \uac00\uc838\uc624\uae30 \ubc84\ud2bc \ud074\ub9ad \ud6c4 \n".concat(JSON.stringify(s,null,4)))},onBlur:function(){o("")},children:"Data \uac00\uc838\uc624\uae30"}),(0,r.jsx)("pre",{children:a})]})},nt=(0,i.memo)((0,i.forwardRef)((function(t,n){console.log("Modal");var e=(0,i.useContext)(G).setData,a=(0,i.useState)((function(){return{isVisible:!1,id:null,title:"",currentAmount:0}})),s=(0,l.Z)(a,2),c=s[0],u=s[1],d=c.isVisible,m=c.id,h=c.title,p=c.currentAmount;(0,i.useImperativeHandle)(n,(function(){return{openModal:function(t){var n=t.id,e=t.title,a=t.amount;u({isVisible:!0,id:n,title:e,currentAmount:a})}}}));var f=(0,i.useCallback)((function(t,n){e((function(e){return e.map((function(e){return e.id===t?(0,o.Z)((0,o.Z)({},e),{},{amount:n}):e}))}))}),[e]),x=(0,i.useCallback)((function(t){u((function(n){return(0,o.Z)((0,o.Z)({},n),{},{currentAmount:Number(t.target.value)})}))}),[]),j=(0,i.useCallback)((function(){f(m,p),u(Q)}),[p,m,f]),b=(0,i.useCallback)((function(){u(Q)}),[]);return d?(0,r.jsx)("div",{className:"modal",children:(0,r.jsxs)("div",{className:"modal-container",children:[(0,r.jsx)("h3",{children:"Modal"}),(0,r.jsxs)("div",{className:"modal-contents",children:[(0,r.jsxs)("p",{children:["id: ",m]}),(0,r.jsxs)("p",{children:["title: ",h]}),(0,r.jsxs)("p",{children:["amount: ",p]}),(0,r.jsx)("input",{type:"number",min:"0",max:"10",value:p,onChange:x})]}),(0,r.jsxs)("div",{className:"modal-actions",children:[(0,r.jsx)("button",{type:"button",onClick:j,children:"confirm"}),(0,r.jsx)("button",{type:"button",onClick:b,children:"close"})]})]})}):null})));function et(){return(0,r.jsxs)("section",{className:"addToCartPage",children:[(0,r.jsx)("h1",{children:"AddToCart"}),(0,r.jsx)("h2",{children:"AddToCart 1 "}),(0,r.jsx)("h3",{children:": Data useState + Modal forwardRef"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"state\ub97c \ub8e8\ud2b8\uc5d0\uc11c \uad00\ub9ac"}),(0,r.jsx)("li",{children:"\uad00\ub828 \uba54\uc11c\ub4dc\ub4e4\ub3c4 \ub8e8\ud2b8\uc5d0 \uc791\uc131, \ud55c \ub208\uc5d0 \ud30c\uc545\uc774 \uc5b4\ub835\ub2e4."})]}),(0,r.jsx)(c,{}),(0,r.jsx)("h2",{children:"AddToCart 2 *****"}),(0,r.jsx)("h3",{children:" : Data useReducer + Modal forwardRef"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Modal\uc744 ref\ub85c, Data\ub97c useReducer\ub85c \ucee8\ud2b8\ub864"}),(0,r.jsx)("li",{children:"Data\ub97c Reducer\ub97c \uc801\uc6a9\ud558\uba74 \ud55c \ub208\uc5d0 \ubcf4\uae30 \uc27d\ub2e4. "}),(0,r.jsx)("li",{children:"ActionButton\uc758 \ub9ac\ub79c\ub354\ub9c1\uc744 \ub354 \ub9c9\uc744 \uc218\ub294 \uc5c6\uc744\uae4c?"}),(0,r.jsx)("li",{children:"App, ProductList\uc758 \ub9ac\ub79c\ub354\ub9c1\uc740 \uad1c\ucc2e\uc740\uac00?"}),(0,r.jsx)("li",{children:"\uc774 \ubc29\uc2dd\uc774 \uac00\uc7a5 \uc88b\uc740 \uac83 \uac19\ub2e4."})]}),(0,r.jsx)(b,{}),(0,r.jsx)("h2",{children:"AddToCart 3"}),(0,r.jsx)("h3",{children:": Data useReducer + Modal forwardRef + Modal useReducer"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Modal\uc758 \uc0c1\ud0dc\uad00\ub9ac\ub97c useReducer\ub85c \uc801\uc6a9"}),(0,r.jsx)("li",{children:"ModalAction, modalReducer\ub97c \ud1b5\ud574 Modal\uc758 \ub3d9\uc791\uc774 \ud55c \ub208\uc5d0 \ubcf4\uc778\ub2e4."}),(0,r.jsx)("li",{children:"\ucf54\ub4dc\uac00 \uae38\uc5b4\uc9c4\ub2e4. "}),(0,r.jsx)("li",{children:"\uad73\uc774 useReducer\ub85c \uc801\uc6a9\ud574\uc57c \ud560\uae4c?"})]}),(0,r.jsx)(k,{}),(0,r.jsx)("h2",{children:"AddToCart 4 ***"}),(0,r.jsx)("h3",{children:": Data useReducer + Modal useState"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Data\ub294 useReducer\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \ucf54\ub4dc\ub97c \ud55c \ub208\uc5d0 \ubcf4\uae30\uac00 \uc88b\ub2e4."}),(0,r.jsx)("li",{children:"Modal\uc744 forwardRef\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 useState\ub85c \uad6c\ud604\ud574\ub3c4 \uad1c\ucc2e\uc740 \uac83 \uac19\ub2e4."}),(0,r.jsx)("li",{children:"ModalState, setModalState, handleOpenModal \uad6c\ud604\uc774 \ub8e8\ud2b8\uc5d0 \uc788\uc5b4\uc57c \ud55c\ub2e4."}),(0,r.jsx)("li",{children:"ModalState, setModalState\uc744 Modal\uc5d0 Prop\ub85c \uc804\ub2ec\ud574\uc57c \ud55c\ub2e4."})]}),(0,r.jsx)(V,{}),(0,r.jsx)("h2",{children:"AddToCart 5 : not recommend"}),(0,r.jsx)("h3",{children:": Data useContext + Modal forwardRef"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"\ubaa8\ub4e0 \ucef4\ud3ec\ub10c\ud2b8\ub4e4\uc774 \ub9ac\ub80c\ub354\ub9c1\ub418\uace0 memo\ub97c \uc801\uc6a9\ud574\ub3c4 \ub9ac\ub79c\ub354\ub9c1"}),(0,r.jsx)("li",{children:"Separate Contexts: \ud604\uc7ac DataContext\uc5d0\uc11c\ub294 \ubaa8\ub4e0 \uc544\uc774\ud15c \ub370\uc774\ud130\uc640 setData \ud568\uc218\ub97c \ud568\uaed8 \uc81c\uacf5\ud558\uace0 \uc788\ub2e4. \uc774\ub807\uac8c \ub418\uba74, \ud558\ub098\uc758 \uc544\uc774\ud15c\ub9cc \ubcc0\uacbd\ub418\uc5b4\ub3c4 \ubaa8\ub4e0 \uc544\uc774\ud15c\uc5d0 \ub300\ud55c \ub9ac\ub80c\ub354\ub9c1\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\ub2e4. data\uc640 setData\ub97c \ubd84\ub9ac\ub41c context\ub85c \uad00\ub9ac\ud558\uba74 \uc774\ub7ec\ud55c \ubb38\uc81c\ub97c \uc904\uc77c \uc218 \uc788\ub2e4."}),(0,r.jsx)("li",{children:"props \uc804\ub2ec\uc744 \uc904\uc774\ub294 \uac83\uc740 \ucf54\ub4dc\uc758 \uac00\ub3c5\uc131\uacfc \uc720\uc9c0 \ubcf4\uc218\uc131\uc744 \uc704\ud55c \uac83\uc774\uba70, \uc2e4\uc81c \uc131\ub2a5 \ud5a5\uc0c1\uc744 \uc704\ud574\uc11c\ub294 \ub2e4\ub978 \ucd5c\uc801\ud654 \uae30\ubc95\ub4e4\ub3c4 \ud568\uaed8 \uace0\ub824\ud574\uc57c \ud55c\ub2e4."})]}),(0,r.jsx)(W,{}),(0,r.jsx)("h2",{children:"AddToCart 6 : "}),(0,r.jsx)("h3",{children:" : Data useReducer + Modal forwardRef + useContext"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"dispatch\ub97c Context\ub85c \uc801\uc6a9"}),(0,r.jsx)("li",{children:"\uc5ed\uc2dc\ub098 \ubaa8\ub4e0 \ucef4\ud3ec\ub10c\ud2b8\uac00 \ub9ac\ub80c\ub354\ub9c1"})]}),(0,r.jsx)(W,{})]})}},683:function(t,n,e){e.d(n,{Z:function(){return i}});var a=e(142);function o(t,n,e){return(n=(0,a.Z)(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function l(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,a)}return e}function i(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?l(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}}}]);
//# sourceMappingURL=176.d3f6ff3f.chunk.js.map